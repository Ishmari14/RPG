<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="assets/css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Share+Tech+Mono" rel="stylesheet" type="text/css">
    <title>Star Wars RPG</title>
</head>



<body>
    <!-- JQUIRY  -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js">


        var characters, gameState

        function startGame() {
            characters = resetCharacters
            gameState = resetgameState


            renderCharacters()

        }

        //reset characters//

        return {

            'obiWanKenobi': {
                name: 'Obi-Wan Kenobi',
                health: 120,
                attack: 8,
                imageUrl: '',
                enemyAttackBack: 15
            }
        }

        //reset game//

        function resetGameState() {

            return {
                selectedCharacter: null,
                selectedDefender: null,
                enemiesLeft: 0,
                numAttacks: 0
            }
        }

        //RENDERING FUNCTIONS //

        function createCharDiv(character, key) {

            var charDiv = $("<div class='character' data-name='" + key + "'>")
            var charName = $("<div class='character-name'>").text(character.name)
            var charImage = $("<img alt='image' class='character-image'>").attr('src', character.imageUrl)
            var charHealth = $("<div class='character-health'>").text(character.health)
            charDiv.append(charName).append(charImage).append(charHealth)
            return charDiv
        }

        function renderCharacters() {
            console.log('rendering characters')
            var keys = Object.keys(characters)
            for (var i = 0; i < keys.length; i++) {
                // get the current character out of the object
                var characterKey = keys[i]
                var character = characters[characterKey]
                // append elements to the #character-area element
                var charDiv = createCharDiv(character, characterKey)
                $('#character-area').append(charDiv)
            }
        }


    </script>

    <div class="main-section-title">Star Wars RPG!</div>
    <div id="main-game-section">


        <div id="character-section"></div>
        <div class="section-title">Select your character</div>

        <div id="character-area"></div>
    </div>

    <div id="selected-character-section">
        <div class="section-title">Your Character</div>
        <div id="selected-character"></div>
    </div>

    <div id="available-to-attack-section">
        <div class="section-title">Enemies Available To Attack</div>
    </div>

    <div class="section-title">Fight Section</div>
    <div id="fight-section">
        <button id="attack-button" style="display: none;">Attack</button>
    </div>

    <div id="action">
        <div class="character-section">
            <div class="section-title">Defender</div>
            <div id="defender"></div>
        </div>
    </div>

    </div>
    <div id="game-message"></div>
    <button id="reset-button" style="display: none;">Reset Game</button>

    </div>

</body>

</html>